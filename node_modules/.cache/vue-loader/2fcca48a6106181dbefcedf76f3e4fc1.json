{"remainingRequest":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wbs/Program_Project/Vue/micropost-app/src/components/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wbs/Program_Project/Vue/micropost-app/src/components/Register.vue","mtime":1632832062401},{"path":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/cache-loader/dist/cjs.js","mtime":1631542119597},{"path":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/vue-loader/lib/index.js","mtime":1631542120337}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVnaXN0ZXJGb3JtOiB7CiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgIH0sCiAgICAgIHJlZ2lzdGVyUnVsZXM6IHsKICAgICAgICAvLyDpg7XnrrHmlYjpqZcKICAgICAgICBlbWFpbDogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuiri+i8uOWFpemDteeusSIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgICAgeyBtaW46IDYsIG1heDogNjQsIG1lc3NhZ2U6ICLplbfluqbkuI3lpKfoiIc2NCIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgIF0sCiAgICAgICAgLy8g55So5oi25ZCN5pWI6amXCiAgICAgICAgdXNlcm5hbWU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLoq4vovLjlhaXnlKjmiLblkI0iLCB0cmlnZ2VyOiAiYmx1ciIgfSwKICAgICAgICAgIHsgbWluOiA0LCBtYXg6IDY0LCBtZXNzYWdlOiAi6ZW35bqm5LiN5aSn6IiHNjQiLCB0cmlnZ2VyOiAiYmx1ciIgfSwKICAgICAgICBdLAogICAgICAgIC8vIOWvhueivOaViOmplwogICAgICAgIHBhc3N3b3JkOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6KuL6Ly45YWl5a+G56K8IiwgdHJpZ2dlcjogImJsdWUiIH0sCiAgICAgICAgICB7IG1pbjogNiwgbWF4OiAyNCwgbWVzc2FnZTogIumVt+W6puS4jeiDveWwj+aWvDYiLCB0cmlnZ2VyOiAiYmx1ciIgfSwKICAgICAgICBdLAogICAgICB9LAogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgICBhc3luYyBjaGVja0VtYWlsKCkgewogICAgICAgICBjb25zdCB7ZGF0YTpyZXN9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KCJnZXRVc2VyQnlFbWFpbCIsIHRoaXMucmVnaXN0ZXJGb3JtKTsKICAgICAgICAgaWYgKHJlcyA9PT0gdGhpcy5yZWdpc3RlckZvcm0uZW1haWwpIHsKICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIumDteeuseW3suiiq+iou+WGiiIpOwogICAgICAgICB9CiAgICAgICAgIHJldHVybjsKICAgICAgfSwKICAgIGFzeW5jIHJlZ2lzdGVyKCkgewogICAgICAgIGNvbnN0IHtkYXRhOnBvc3RSZXN9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KCJyZWdpc3RlciIsIHRoaXMucmVnaXN0ZXJGb3JtKTsKICAgICAgICBjb25zb2xlLmxvZygicG9zdDogIiArIHBvc3RSZXMpOwogICAgICAgIGlmIChwb3N0UmVzID09ICJzdWNjZXNzIikgewogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi6Ki75YaK5oiQ5Yqf77yM5Y2z5bCH6Lez6L2J5Yiw55m76YyE6aCBIik7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgibG9naW4iKTsKICAgICAgICAgICAgfSwgMjAwMCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi6Ki75YaK5aSx5pWXIik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgfSwKICAgIGNhbmNlbFJlZ2lzdGVyKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgfQogIH0sCn07Cg=="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"main_container\">\n    <div class=\"register_box\">\n      <el-form\n        :model=\"registerForm\"\n        ref=\"registerFormRef\"\n        :rules=\"registerRules\"\n        label-width=\"90px\"\n        :inline=\"false\"\n        size=\"normal\"\n        class=\"register_form\"\n      >\n        <el-form-item label=\"Email\" prop=\"email\">\n          <el-input v-model=\"registerForm.email\" prop=\"email\" @blur=\"checkEmail\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Username\" prop=\"username\">\n          <el-input v-model=\"registerForm.username\" prop=\"username\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Password\" prop=\"password\">\n          <el-input\n            v-model=\"registerForm.password\"\n            prop=\"password\"\n            show-password\n          ></el-input>\n        </el-form-item>\n        <el-form-item class=\"btns\">\n          <el-button type=\"primary\" @click=\"register\">立即註冊</el-button>\n          <el-button @click=\"cancelRegister\">取消</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      registerForm: {\n        email: \"\",\n        username: \"\",\n        password: \"\",\n      },\n      registerRules: {\n        // 郵箱效驗\n        email: [\n          { required: true, message: \"請輸入郵箱\", trigger: \"blur\" },\n          { min: 6, max: 64, message: \"長度不大與64\", trigger: \"blur\" },\n        ],\n        // 用戶名效驗\n        username: [\n          { required: true, message: \"請輸入用戶名\", trigger: \"blur\" },\n          { min: 4, max: 64, message: \"長度不大與64\", trigger: \"blur\" },\n        ],\n        // 密碼效驗\n        password: [\n          { required: true, message: \"請輸入密碼\", trigger: \"blue\" },\n          { min: 6, max: 24, message: \"長度不能小於6\", trigger: \"blur\" },\n        ],\n      },\n    };\n  },\n  methods: {\n     async checkEmail() {\n         const {data:res} = await this.$http.post(\"getUserByEmail\", this.registerForm);\n         if (res === this.registerForm.email) {\n             this.$message.error(\"郵箱已被註冊\");\n         }\n         return;\n      },\n    async register() {\n        const {data:postRes} = await this.$http.post(\"register\", this.registerForm);\n        console.log(\"post: \" + postRes);\n        if (postRes == \"success\") {\n            setTimeout(() => {\n                this.$message.success(\"註冊成功，即將跳轉到登錄頁\");\n                this.$router.push(\"login\");\n            }, 2000);\n        } else {\n            this.$message.error(\"註冊失敗\");\n            return;\n        }\n\n    },\n    cancelRegister() {\n      this.$router.push(\"/\");\n    }\n  },\n};\n</script>\n\n<style scoped>\n.main_container {\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  background-color: #2b4b6b;\n}\n.register_box {\n  position: absolute;\n  width: 450px;\n  height: 300px;\n  background-color: #f2f6fc;\n  top: 30%;\n  left: 30%;\n  border-radius: 5px;\n  box-shadow: 0 0 2px #f2f6fc;\n}\n.register_form {\n  position: absolute;\n  bottom: 22%;\n  width: 100%;\n  padding: 0 10px;\n  padding-right: 30px;\n  box-sizing: border-box;\n}\n.btns {\n  position: absolute;\n  left: 15%;\n}\n</style>\n"]}]}