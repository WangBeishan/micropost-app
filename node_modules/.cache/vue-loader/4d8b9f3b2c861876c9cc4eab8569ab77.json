{"remainingRequest":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wbs/Program_Project/Vue/micropost-app/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wbs/Program_Project/Vue/micropost-app/src/components/Login.vue","mtime":1632839071068},{"path":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/cache-loader/dist/cjs.js","mtime":1631542119597},{"path":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/vue-loader/lib/index.js","mtime":1631542120337}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbG9naW5Gb3JtOiB7CiAgICAgICAgZW1haWw6ICJ0ZXN0QGVtYWlsLmNvbSIsCiAgICAgICAgcGFzc3dvcmQ6ICIiLAogICAgICB9LAogICAgICBsb2dpblJ1bGVzOiB7CiAgICAgICAgLy8g6YO1566x5pWI6amXCiAgICAgICAgZW1haWw6IFsKICAgICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuiri+i8uOWFpemDteeusSIsIHRyaWdnZXI6ICdibHVyJ30sCiAgICAgICAgICAgIHsgbWluOiA2LCBtYXg6IDY0LCBtZXNzYWdlOiAi6ZW35bqm5LiN5aSn6IiHNjQiLCB0cmlnZ2VyOiAnYmx1cid9CiAgICAgICAgXSwKICAgICAgICAvLyDlr4bnorzmlYjpqZcKICAgICAgICBwYXNzd29yZDogWwogICAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi6KuL6Ly45YWl5a+G56K8IiwgdHJpZ2dlcjogJ2JsdWUnfSwKICAgICAgICAgICAgeyBtaW46IDYsIG1heDogMjQsIG1lc3NhZ2U6ICLplbfluqbkuI3og73lsI/mlrw2IiwgdHJpZ2dlcjogJ2JsdXInfQogICAgICAgIF0sCiAgICAgIH0sCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8g55So5oi255m76YyECiAgICBsb2dpbigpIHsKICAgICAgICB0aGlzLiRyZWZzLmxvZ2luRm9ybVJlZi52YWxpZGF0ZShhc3luYyB2YWxpZCA9PiB7CiAgICAgICAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBjb25zdCB7ZGF0YTpyZXN9ID0gYXdhaXQgdGhpcy4kaHR0cC5wb3N0KCJsb2dpbiIsIHRoaXMubG9naW5Gb3JtKTsKICAgICAgICAgICAgaWYgKHJlcy5mbGFnID09ICJvayIpIHsKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi55m76YyE5oiQ5YqfIik7CiAgICAgICAgICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidXNlciIsIEpTT04uc3RyaW5naWZ5KHJlcy51c2VyKSk7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiaG9tZSIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi55m76YyE5aSx5pWX77yM6KuL6YeN5paw55m76YyEIik7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKICAgIH0sCiAgICAvLyDlj5bmtojnmbvpjITmk43kvZzvvIzot7PovYnliLDjgIx3ZWxjb21l44CN6aCBCiAgICBDYW5jZWxMb2dpbigpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"main_container\">\n    <div class=\"login_box\">\n      <div class=\"avatar_box\">\n        <a href=\"/\"><img class=\"avatar_img\" src=\"../assets/logo.png\" /></a>\n      </div>\n      <el-form\n        :model=\"loginForm\"\n        ref=\"loginFormRef\"\n        :rules=\"loginRules\"\n        label-width=\"90px\"\n        :inline=\"false\"\n        size=\"normal\"\n        class=\"login_form\"\n      >\n        <el-form-item label=\"Email\" prop=\"email\">\n          <el-input v-model=\"loginForm.email\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Password\" prop=\"password\">\n          <el-input\n            v-model=\"loginForm.password\"\n            show-password\n          ></el-input>\n        </el-form-item>\n        <el-form-item class=\"btns\">\n          <el-button type=\"primary\" @click=\"login\">登錄</el-button>\n          <el-button @click=\"CancelLogin\">取消</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      loginForm: {\n        email: \"test@email.com\",\n        password: \"\",\n      },\n      loginRules: {\n        // 郵箱效驗\n        email: [\n            { required: true, message: \"請輸入郵箱\", trigger: 'blur'},\n            { min: 6, max: 64, message: \"長度不大與64\", trigger: 'blur'}\n        ],\n        // 密碼效驗\n        password: [\n            { required: true, message: \"請輸入密碼\", trigger: 'blue'},\n            { min: 6, max: 24, message: \"長度不能小於6\", trigger: 'blur'}\n        ],\n      },\n    };\n  },\n  methods: {\n    // 用戶登錄\n    login() {\n        this.$refs.loginFormRef.validate(async valid => {\n            if (!valid) {\n                return;\n            }\n            const {data:res} = await this.$http.post(\"login\", this.loginForm);\n            if (res.flag == \"ok\") {\n                this.$message.success(\"登錄成功\");\n                window.sessionStorage.setItem(\"user\", JSON.stringify(res.user));\n                this.$router.push(\"home\");\n            } else {\n                this.$message.error(\"登錄失敗，請重新登錄\");\n            }\n        });\n    },\n    // 取消登錄操作，跳轉到「welcome」頁\n    CancelLogin() {\n      this.$router.push(\"/\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n.main_container {\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  background-color: #2b4b6b;\n}\n.login_box {\n  position: absolute;\n  width: 450px;\n  height: 300px;\n  background-color: #f2f6fc;\n  top: 30%;\n  left: 30%;\n  border-radius: 5px;\n  box-shadow: 0 0 2px #f2f6fc;\n}\n.login_form {\n  position: absolute;\n  bottom: 23%;\n  width: 100%;\n  padding: 0 15px;\n  padding-right: 25px;\n  box-sizing: border-box;\n}\n.btns {\n  position: absolute;\n  left: 16%;\n}\n.avatar_box {\n  width: 130px;\n  height: 130px;\n  border: 1px solid #f2f6fc;\n  border-radius: 50%;\n  box-shadow: 0 0 8px #2b4b6b;\n  position: absolute;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n.avatar_img {\n    height: 100%;\n    width: 100%;\n    border-radius: 50%;\n    background-color: #f2f6fc;\n}\n</style>\n"]}]}