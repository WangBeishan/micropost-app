{"remainingRequest":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wbs/Program_Project/Vue/micropost-app/src/components/Microposts.vue?vue&type=style&index=0&id=6028923f&scoped=true&lang=css&","dependencies":[{"path":"/home/wbs/Program_Project/Vue/micropost-app/src/components/Microposts.vue","mtime":1636551676839},{"path":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/css-loader/dist/cjs.js","mtime":1635159854369},{"path":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1635159854861},{"path":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/postcss-loader/src/index.js","mtime":1635159854701},{"path":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/cache-loader/dist/cjs.js","mtime":1635159854273},{"path":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/vue-loader/lib/index.js","mtime":1635159854861}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubWFpbi1jb250YWluZXIgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQouYXNpZGUtY29udGFpbmVyIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgd2lkdGg6IDI1JTsKICBoZWlnaHQ6IGF1dG87CiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKfQoudXNlci1pbmZvIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgcGFkZGluZzogMzAlOwp9Ci51c2VyLWluZm8tLWF2YXRhciB7CiAgaGVpZ2h0OiAxMDBweDsKICB3aWR0aDogMTAwcHg7CiAgYm9yZGVyOiAxcHggc29saWQgI2FkYWZiNDsKICBib3gtc2hhZG93OiAwIDAgNXB4ICNhZGFmYjQ7Cn0KLnRleHQtYm94IHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgcGFkZGluZy1ib3R0b206IDIlOwp9Ci5idG4gewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBsZWZ0OiA3MCU7Cn0KLmF2YXRhci1ib3ggewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKfQoubmFtZSB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGxlZnQ6IDElOwp9Ci5jb250ZW50LWJveCB7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIHBhZGRpbmctbGVmdDogOCU7Cn0KLnNwbGl0LWxpbmUgewogIGhlaWdodDogMXB4OwogIGJhY2tncm91bmQtY29sb3I6ICNkMmRhZGE7CiAgbWFyZ2luOiAzJTsKfQp1bCB7CiAgbGlzdC1zdHlsZTogbm9uZTsKfQppbWcgewogIGhlaWdodDogNTBweDsKICB3aWR0aDogNTBweDsKICBib3JkZXItcmFkaXVzOiA1MCU7Cn0KYSB7CiAgdGV4dC1kZWNvcmF0aW9uOiBub25lOwp9Cg=="},{"version":3,"sources":["Microposts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Microposts.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <el-container>\n    <el-aside class=\"aside-container\">\n      <div class=\"user-info\">\n        <a :href=\"'/#/users/' + user.userId\"><img class=\"user-info--avatar\" :src=\"require('../assets/HeadImg/' + user.email + '.jpg')\"/></a>\n        <strong style=\"position: relative; left: 24%; font-size: 24px\"><a :href=\"'/#/users/' + user.userId\">{{ user.username }}</a></strong>\n      </div>\n      <el-input\n          type=\"textarea\"\n          :rows=\"5\"\n          v-model=\"postForm.content\"\n          class=\"text-box\"\n      >\n      </el-input>\n      <el-button class=\"btn\" @click=\"post\" type=\"primary\" round>Post</el-button>\n    </el-aside>\n    <el-main class=\"main-container\">\n      <h2 style=\"padding-bottom: 3%\">Microposts</h2>\n      <div>\n        <ul>\n          <li v-for=\"content in contents\" v-bind:key=\"content.userId\">\n            <div class=\"avatar-box\">\n              <a class=\"avatar\" :href=\"'/#/users/' + content.userId\"><img :src=\"require('../assets/HeadImg/' + content.email + '.jpg')\"></a>\n              <p class=\"name\">{{ content.username }}</p>\n            </div>\n            <div class=\"content-box\">\n              <p>{{ content.content }}</p>\n              <small>{{ timeFormat(content.crtTime) }}</small>\n            </div>\n            <div class=\"split-line\"></div>\n          </li>\n        </ul>\n      </div>\n    </el-main>\n  </el-container>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      user: {\n        userId: \"\",\n        email: \"\",\n        username: \"\"\n      },\n      postForm: {\n        userId: \"\",\n        content: \"\"\n      },\n      contents: \"\",\n    }\n  },\n  created() {\n    this.initUserInfo();\n    console.log(this.user);\n    this.getContents();\n  },\n  methods: {\n    async initUserInfo() {\n      let user = window.sessionStorage.getItem(\"user\")\n      this.user.userId = JSON.parse(user).id;\n      this.user.email = JSON.parse(user).email;\n      this.user.username = JSON.parse(user).username;\n    },\n    async post() {\n      this.postForm.userId = JSON.parse(window.sessionStorage.getItem(\"user\")).id;\n      const {data:res} = await this.$http.post(\"post\", this.postForm);\n      if (res.flag == \"success\") {\n        this.$message.success(\"Posted!\");\n        await this.getContents();\n        this.postForm.content = \"\";\n        return;\n      }\n      this.$message.error(\"Error!\");\n    },\n    async getContents() {\n      const {data:res} = await this.$http.get(\"getContent\");\n      this.contents = res;\n    },\n    timeFormat(time =+ new Date()) {\n      const date = new Date(time + 16 * 3600 * 1000);\n      return date.toJSON().substr(5, 14).replace('T', ' ');\n    }\n  }\n};\n</script>\n\n<style scoped>\n.main-container {\n  position: relative;\n}\n.aside-container {\n  position: relative;\n  width: 25%;\n  height: auto;\n  background-color: #fff;\n}\n.user-info {\n  position: relative;\n  padding: 30%;\n}\n.user-info--avatar {\n  height: 100px;\n  width: 100px;\n  border: 1px solid #adafb4;\n  box-shadow: 0 0 5px #adafb4;\n}\n.text-box {\n  position: relative;\n  padding-bottom: 2%;\n}\n.btn {\n  position: relative;\n  left: 70%;\n}\n.avatar-box {\n  position: relative;\n}\n.name {\n  position: relative;\n  left: 1%;\n}\n.content-box {\n  position: relative;\n  padding-left: 8%;\n}\n.split-line {\n  height: 1px;\n  background-color: #d2dada;\n  margin: 3%;\n}\nul {\n  list-style: none;\n}\nimg {\n  height: 50px;\n  width: 50px;\n  border-radius: 50%;\n}\na {\n  text-decoration: none;\n}\n</style>"]}]}