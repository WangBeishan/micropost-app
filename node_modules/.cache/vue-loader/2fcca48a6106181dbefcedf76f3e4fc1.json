{"remainingRequest":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wbs/Program_Project/Vue/micropost-app/src/components/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wbs/Program_Project/Vue/micropost-app/src/components/Register.vue","mtime":1635815790050},{"path":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/cache-loader/dist/cjs.js","mtime":1635159854273},{"path":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/vue-loader/lib/index.js","mtime":1635159854861}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcmVnaXN0ZXJGb3JtOiB7CiAgICAgICAgdXNlcm5hbWU6ICJ0ZXN0IiwKICAgICAgICBlbWFpbDogInRlc3RAZW1haWwuY29tIiwKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgdmVyaWZ5Q29kZTogIiIsCiAgICAgIH0sCiAgICAgIGNvZGU6ICIiLAogICAgICByZWdpc3RlclJ1bGVzOiB7CiAgICAgICAgLy8g6YO1566x5pWI6amXCiAgICAgICAgZW1haWw6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLoq4vovLjlhaXpg7XnrrEiLCB0cmlnZ2VyOiAiYmx1ciIgfSwKICAgICAgICAgIHsgbWluOiA2LCBtYXg6IDY0LCBtZXNzYWdlOiAi6ZW35bqm5LiN5aSn6IiHNjQiLCB0cmlnZ2VyOiAiYmx1ciIgfQogICAgICAgIF0sCiAgICAgICAgLy8g55So5oi25ZCN5pWI6amXCiAgICAgICAgdXNlcm5hbWU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLoq4vovLjlhaXnlKjmiLblkI0iLCB0cmlnZ2VyOiAiYmx1ciIgfSwKICAgICAgICAgIHsgbWluOiA0LCBtYXg6IDY0LCBtZXNzYWdlOiAi6ZW35bqm5LiN5aSn6IiHNjQiLCB0cmlnZ2VyOiAiYmx1ciIgfQogICAgICAgIF0sCiAgICAgICAgLy8g5a+G56K85pWI6amXCiAgICAgICAgcGFzc3dvcmQ6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLoq4vovLjlhaXlr4bnorwiLCB0cmlnZ2VyOiAiYmx1ZSIgfSwKICAgICAgICAgIHsgbWluOiA2LCBtYXg6IDI0LCBtZXNzYWdlOiAi6ZW35bqm5LiN6IO95bCP5pa8NiIsIHRyaWdnZXI6ICJibHVyIiB9CiAgICAgICAgXSwKICAgICAgfSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBzZW5kVmVyaWZ5Q29kZSgpIHsKICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAucG9zdCgic2VuZFZDIiwgdGhpcy5yZWdpc3RlckZvcm0pOwogICAgICB0aGlzLmNvZGUgPSByZXM7CiAgICB9LAogICAgYXN5bmMgcmVnaXN0ZXIoKSB7CiAgICAgIGlmICgKICAgICAgICB0aGlzLmNvZGUgIT0gdGhpcy5yZWdpc3RlckZvcm0udmVyaWZ5Q29kZQogICAgICApIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCJWZXJpZnkgY29kZSBlcnJvciwgUGxlYXNlIHRyeSBhZ2Fpbi4iKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAucG9zdCgKICAgICAgICAicmVnaXN0ZXIiLAogICAgICAgIHRoaXMucmVnaXN0ZXJGb3JtCiAgICAgICk7CiAgICAgIGlmIChyZXMgPT0gInN1Y2Nlc3MiKSB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIlN1Y2Nlc3MsIFdpbGwganVtcCB0byB0aGUgbG9naW4gcGFnZS4iKTsKICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCJsb2dpbiIpOwogICAgICAgIH0sIDIwMDApOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIkVycm9yIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICB9LAogICAgY2FuY2VsKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"main_container\">\n    <div class=\"registerForm_container\">\n      <el-card class=\"register_box\">\n        <el-form\n          :model=\"registerForm\"\n          :rules=\"registerRules\"\n          label-width=\"90px\"\n          ref=\"registerForm\"\n        >\n          <el-form-item label=\"Username\" prop=\"username\">\n            <el-input v-model=\"registerForm.username\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"Email\" prop=\"email\">\n            <el-input v-model=\"registerForm.email\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"Password\" prop=\"password\">\n            <el-input\n              v-model=\"registerForm.password\"\n              type=\"password\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"Verify Code\" prop=\"verifyCode\">\n            <el-input\n              v-model=\"registerForm.verifyCode\"\n              style=\"width: 150px\"\n            ></el-input>\n            <el-button\n              type=\"info\"\n              @click=\"sendVerifyCode\"\n              style=\"margin-left: 2%\"\n              >Send Code</el-button\n            >\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"register\">Register</el-button>\n            <el-button type=\"default\" @click=\"cancel\">Cancel</el-button>\n          </el-form-item>\n        </el-form>\n      </el-card>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      registerForm: {\n        username: \"test\",\n        email: \"test@email.com\",\n        password: \"\",\n        verifyCode: \"\",\n      },\n      code: \"\",\n      registerRules: {\n        // 郵箱效驗\n        email: [\n          { required: true, message: \"請輸入郵箱\", trigger: \"blur\" },\n          { min: 6, max: 64, message: \"長度不大與64\", trigger: \"blur\" }\n        ],\n        // 用戶名效驗\n        username: [\n          { required: true, message: \"請輸入用戶名\", trigger: \"blur\" },\n          { min: 4, max: 64, message: \"長度不大與64\", trigger: \"blur\" }\n        ],\n        // 密碼效驗\n        password: [\n          { required: true, message: \"請輸入密碼\", trigger: \"blue\" },\n          { min: 6, max: 24, message: \"長度不能小於6\", trigger: \"blur\" }\n        ],\n      },\n    };\n  },\n  methods: {\n    async sendVerifyCode() {\n      const { data: res } = await this.$http.post(\"sendVC\", this.registerForm);\n      this.code = res;\n    },\n    async register() {\n      if (\n        this.code != this.registerForm.verifyCode\n      ) {\n        this.$message.error(\"Verify code error, Please try again.\");\n        return;\n      }\n      const { data: res } = await this.$http.post(\n        \"register\",\n        this.registerForm\n      );\n      if (res == \"success\") {\n        setTimeout(() => {\n          this.$message.success(\"Success, Will jump to the login page.\");\n          this.$router.push(\"login\");\n        }, 2000);\n      } else {\n        this.$message.error(\"Error\");\n        return;\n      }\n    },\n    cancel() {\n      this.$router.push(\"/\");\n    },\n  },\n};\n</script>\n\n<style scoped>\n.main_container {\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  background-color: #2b2b2b;\n}\n.registerForm_container {\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n}\n.register_box {\n  padding-top: 3%;\n  padding-right: 3%;\n  height: 330px;\n  width: 400px;\n  margin-left: 2%;\n}\n</style>"]}]}