{"remainingRequest":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wbs/Program_Project/Vue/micropost-app/src/components/Microposts.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wbs/Program_Project/Vue/micropost-app/src/components/Microposts.vue","mtime":1632927853746},{"path":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/cache-loader/dist/cjs.js","mtime":1631542119597},{"path":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/vue-loader/lib/index.js","mtime":1631542120337}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogewogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgfSwKICAgICAgcG9zdEZvcm06IHsKICAgICAgICB1c2VySWQ6ICIiLAogICAgICAgIGNvbnRlbnQ6ICIiLAogICAgICB9LAogICAgICBjb250ZW50czogIiIsCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGxldCBkYXRhID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oInVzZXIiKTsKICAgIHRoaXMudXNlci51c2VybmFtZSA9IEpTT04ucGFyc2UoZGF0YSkudXNlcm5hbWU7CiAgICB0aGlzLmdldENvbnRlbnQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIHBvc3QoKSB7CiAgICAgICAgaWYgKHRoaXMucG9zdEZvcm0uY29udGVudCA9PT0gIiIpIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5YWn5a6554iy56m6Iik7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIHRoaXMucG9zdEZvcm0udXNlcklkID0gSlNPTi5wYXJzZSh3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpKS5pZDsKICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAucG9zdCgicG9zdCIsIHRoaXMucG9zdEZvcm0pOwogICAgICBpZiAocmVzLmZsYWcgPT0gInN1Y2Nlc3MiKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLnmbzkvYjmiJDlip8iKTsKICAgICAgICB0aGlzLmdldENvbnRlbnQoKTsKICAgICAgICB0aGlzLnBvc3RGb3JtLmNvbnRlbnQgPSAiIjsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi55m85L2I5aSx5pWXIik7CiAgICB9LAogICAgYXN5bmMgZ2V0Q29udGVudCgpIHsKICAgICAgY29uc3QgeyBkYXRhOiByZXMgfSA9IGF3YWl0IHRoaXMuJGh0dHAuZ2V0KCIvZ2V0Q29udGVudCIpOwogICAgICB0aGlzLmNvbnRlbnRzID0gcmVzOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["Microposts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Microposts.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"container\">\n    <aside class=\"side_bar\">\n      <div class=\"avatar_box\">\n        <img src=\"../assets/logo.png\" width=\"80px\" height=\"80px\" />\n        <strong class=\"name\">{{ this.user.username }}</strong>\n      </div>\n      <div class=\"post_box\">\n        <form :model=\"postForm\">\n          <textarea\n            rows=\"6\"\n            cols=\"40\"\n            prop=\"content\"\n            v-model=\"postForm.content\"\n          ></textarea>\n          <input class=\"btn\" type=\"button\" name=\"Post\" @click=\"post\" value=\"Post\" />\n        </form>\n      </div>\n    </aside>\n    <div class=\"content_container\">\n      <h2>Microposts</h2>\n      <div class=\"content\">\n        <ul>\n          <li v-for=\"content in contents\">\n            <div>\n              <a :href=\"'/#/users/' + content.userId\"\n                ><img src=\"../assets/logo.png\" width=\"50px\" height=\"50px\"\n              /></a>\n              <strong>{{ content.userId }}</strong>\n              <p>{{ content.content }}</p>\n              <div class=\"shadow_line\"></div>\n            </div>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      user: {\n        username: \"\",\n      },\n      postForm: {\n        userId: \"\",\n        content: \"\",\n      },\n      contents: \"\",\n    };\n  },\n  created() {\n    let data = window.sessionStorage.getItem(\"user\");\n    this.user.username = JSON.parse(data).username;\n    this.getContent();\n  },\n  methods: {\n    async post() {\n        if (this.postForm.content === \"\") {\n            this.$message.error(\"內容爲空\");\n            return;\n        }\n      this.postForm.userId = JSON.parse(window.sessionStorage.getItem(\"user\")).id;\n      const { data: res } = await this.$http.post(\"post\", this.postForm);\n      if (res.flag == \"success\") {\n        this.$message.success(\"發佈成功\");\n        this.getContent();\n        this.postForm.content = \"\";\n        return;\n      }\n      this.$message.error(\"發佈失敗\");\n    },\n    async getContent() {\n      const { data: res } = await this.$http.get(\"/getContent\");\n      this.contents = res;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.btn {\n  display: flex;\n  justify-content: flex-end;\n  padding: 3%;\n      transform: translate(0%, 30%);\n\n}\n.post_box {\n  position: relative;\n  padding-left: 6%;\n  padding-top: 50%;\n}\n.shadow_line {\n  width: 700px;\n  height: 1px;\n  background-color: #2b4b6b;\n  box-shadow: 0 0 2px #eee;\n}\nh2 {\n  padding: 2em;\n}\nul {\n  list-style-type: none;\n}\nli {\n  padding: 1em;\n}\n.container {\n}\n.side_bar {\n  width: 30%;\n  height: 100%;\n  position: absolute;\n  background-color: #2b4b6b;\n}\n.content_container {\n  width: 70%;\n  height: 100%;\n  position: absolute;\n  right: 0;\n  background-color: #fff;\n}\n.avatar_box {\n  height: 50%;\n  margin: 0;\n  position: absolute;\n  left: 20%;\n  -webkit-align-items: center;\n  -ms-flex-align: center;\n  align-items: center;\n  display: -webkit-flex;\n  display: flex;\n}\n.content_container {\n}\n</style>\n"]}]}