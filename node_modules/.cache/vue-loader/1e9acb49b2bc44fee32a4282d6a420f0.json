{"remainingRequest":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wbs/Program_Project/Vue/micropost-app/src/components/Register.vue?vue&type=style&index=0&id=7bf3755a&scoped=true&lang=css&","dependencies":[{"path":"/home/wbs/Program_Project/Vue/micropost-app/src/components/Register.vue","mtime":1633402727856},{"path":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/css-loader/dist/cjs.js","mtime":1633402727380},{"path":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1633402727716},{"path":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/postcss-loader/src/index.js","mtime":1633402727716},{"path":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/cache-loader/dist/cjs.js","mtime":1633402727376},{"path":"/home/wbs/Program_Project/Vue/micropost-app/node_modules/vue-loader/lib/index.js","mtime":1633402727716}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubWFpbl9jb250YWluZXIgewogIHBvc2l0aW9uOiBmaXhlZDsKICBoZWlnaHQ6IDEwMCU7CiAgd2lkdGg6IDEwMCU7CiAgYmFja2dyb3VuZC1jb2xvcjogIzJiNGI2YjsKfQoucmVnaXN0ZXJfYm94IHsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgd2lkdGg6IDQ1MHB4OwogIGhlaWdodDogMzAwcHg7CiAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjZmYzsKICB0b3A6IDMwJTsKICBsZWZ0OiAzMCU7CiAgYm9yZGVyLXJhZGl1czogNXB4OwogIGJveC1zaGFkb3c6IDAgMCAycHggI2YyZjZmYzsKfQoucmVnaXN0ZXJfZm9ybSB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGJvdHRvbTogMjIlOwogIHdpZHRoOiAxMDAlOwogIHBhZGRpbmc6IDAgMTBweDsKICBwYWRkaW5nLXJpZ2h0OiAzMHB4OwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KLmJ0bnMgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBsZWZ0OiAxNSU7Cn0K"},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"main_container\">\n    <div class=\"register_box\">\n      <el-form\n        :model=\"registerForm\"\n        ref=\"registerFormRef\"\n        :rules=\"registerRules\"\n        label-width=\"90px\"\n        :inline=\"false\"\n        size=\"normal\"\n        class=\"register_form\"\n      >\n        <el-form-item label=\"Email\" prop=\"email\">\n          <el-input v-model=\"registerForm.email\" prop=\"email\" @blur=\"checkEmail\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Username\" prop=\"username\">\n          <el-input v-model=\"registerForm.username\" prop=\"username\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"Password\" prop=\"password\">\n          <el-input\n            v-model=\"registerForm.password\"\n            prop=\"password\"\n            show-password\n          ></el-input>\n        </el-form-item>\n        <el-form-item class=\"btns\">\n          <el-button type=\"primary\" @click=\"register\">立即註冊</el-button>\n          <el-button @click=\"cancelRegister\">取消</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      registerForm: {\n        email: \"\",\n        username: \"\",\n        password: \"\",\n      },\n      registerRules: {\n        // 郵箱效驗\n        email: [\n          { required: true, message: \"請輸入郵箱\", trigger: \"blur\" },\n          { min: 6, max: 64, message: \"長度不大與64\", trigger: \"blur\" },\n        ],\n        // 用戶名效驗\n        username: [\n          { required: true, message: \"請輸入用戶名\", trigger: \"blur\" },\n          { min: 4, max: 64, message: \"長度不大與64\", trigger: \"blur\" },\n        ],\n        // 密碼效驗\n        password: [\n          { required: true, message: \"請輸入密碼\", trigger: \"blue\" },\n          { min: 6, max: 24, message: \"長度不能小於6\", trigger: \"blur\" },\n        ],\n      },\n    };\n  },\n  methods: {\n     async checkEmail() {\n         const {data:res} = await this.$http.post(\"getUserByEmail\", this.registerForm);\n         if (res === this.registerForm.email) {\n             this.$message.error(\"郵箱已被註冊\");\n         }\n         return;\n      },\n    async register() {\n        const {data:postRes} = await this.$http.post(\"register\", this.registerForm);\n        console.log(\"post: \" + postRes);\n        if (postRes == \"success\") {\n            setTimeout(() => {\n                this.$message.success(\"註冊成功，即將跳轉到登錄頁\");\n                this.$router.push(\"login\");\n            }, 2000);\n        } else {\n            this.$message.error(\"註冊失敗\");\n            return;\n        }\n\n    },\n    cancelRegister() {\n      this.$router.push(\"/\");\n    }\n  },\n};\n</script>\n\n<style scoped>\n.main_container {\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  background-color: #2b4b6b;\n}\n.register_box {\n  position: absolute;\n  width: 450px;\n  height: 300px;\n  background-color: #f2f6fc;\n  top: 30%;\n  left: 30%;\n  border-radius: 5px;\n  box-shadow: 0 0 2px #f2f6fc;\n}\n.register_form {\n  position: absolute;\n  bottom: 22%;\n  width: 100%;\n  padding: 0 10px;\n  padding-right: 30px;\n  box-sizing: border-box;\n}\n.btns {\n  position: absolute;\n  left: 15%;\n}\n</style>\n"]}]}